{"version":3,"sources":["components/Filters/SortBy.jsx","components/UIComponents/UISelect.jsx","components/Filters/PrimaryReleaseYear.jsx","components/Filters/Pagination.jsx","api/api.jsx","components/Filters/Genres.jsx","components/Filters/GenresContainer.jsx","components/Filters/Filters.jsx","components/HOC/AppContextHOC.jsx","components/HOC/IconsHOC.jsx","components/Movies/Favorite.jsx","components/Movies/Watchlist.jsx","components/Movies/MovieItem.jsx","components/Loader.jsx","components/Movies/MoviesList.jsx","components/Movies/MoviesHOC.jsx","components/Header/UserMenu.jsx","components/Header/Header.jsx","components/Login/Field.jsx","components/Login/LoginForm.jsx","components/Login/Login.jsx","components/App.js","serviceWorker.js","index.js"],"names":["SortBy","_this$props","this","props","sort_by","onChangeFilters","options","react_default","a","createElement","className","htmlFor","id","name","value","onChange","map","option","key","label","React","Component","defaultProps","UISelect","labelText","children","console","log","PrimaryReLeaseYear","primary_release_year","UISelect_UISelect","Pagination","nextPage","_this","onChangePagination","page","total_pages","prevPage","event","classNames","disabled","onClick","API_URL","API_KEY_3","fetchApi","url","arguments","length","undefined","Promise","resolve","reject","fetch","then","response","status","json","data","catch","error","CallApi","params","queryStringParams","Object","objectSpread","api_key","concat","queryString","stringify","mode","headers","Content-type","_option$params","_option$body","body","method","JSON","_option$params2","_option$body2","content-type","Genres","_ref","genres","with_genres","resetGenres","Fragment","type","genre","checked","includes","String","GenresContainer","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","target","toConsumableArray","filter","state","_this2","get","language","setState","Filters_Genres","Filters","_this$props$filters","filters","onClearFilters","SortBy_SortBy","PrimaryReleaseYear_PrimaryReLeaseYear","GenresContainer_GenresContainer","Pagination_Pagination","HOC_AppContextHOC","_React$Component","AppContextHOC","apply","inherits","createClass","AppContext","Consumer","context","assign","HOC_IconsHOC","IconsHOC","findAddedIcon","isAddedIcon","some","object","item","isAdd","onClickIcon","session_id","post","user","defineProperty","media_type","media_id","getFavoriteMovies","getWatchlistMovies","toggleModal","componentDidUpdate","prevProps","library","add","faHeart","heartRegular","react_fontawesome_index_es","icon","faBookmark","bookmarkRegular","IconseHOC","MovieItem","style","width","src","backdrop_path","poster_path","alt","title","vote_average","Movies_Watchlist","Movies_Favorite","Loader","color","react_loading_default","height","MoviesList","movies","movie","MovieItem_MovieItem","MoviesHOC","getMovies","isLoading","join","results","_","isEqual","_this$state","components_Loader","UserMenu","toggle","bind","assertThisInitialized","isOpen","logOut","reactstrap_es","nav","inNavbar","caret","avatar","gravatar","hash","right","Header","Header_UserMenu","Field","placeholderText","errors","onBlur","invalid","placeholder","username","password","repeatPassword","submitting","e","prevState","base","handleBlur","input","inputName","validateFields","onSubmit","keys","request_token","updateSessionId","updateUser","status_message","onLogin","preventDefault","Login_Field","Login","showLoginModal","Login_LoginForm","cookies","Cookies","createContext","App","newFilters","set","path","maxAge","delete","watchlistMovies","favoriteMovies","remove","_ref$total_pages","componentDidMount","account_id","Provider","Header_Header","Filters_Filters","Movies_MoviesList","Login_Login","Boolean","window","location","hostname","match","ReactDOM","render","App_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8f41db46.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class SortBy extends React.Component {\r\n  static propTypes = {\r\n    sort_by: PropTypes.string.isRequired,\r\n    onChangeFilters: PropTypes.func.isRequired\r\n  };\r\n  static defaultProps = {\r\n    options: [\r\n      {\r\n        value: \"popularity.desc\",\r\n        label: \"Популярные по убыванию\"\r\n      },\r\n      {\r\n        value: \"popularity.asc\",\r\n        label: \"Популярные по возростанию\"\r\n      },\r\n      {\r\n        value: \"vote_average.desc\",\r\n        label: \"Рейтинг по убыванию\"\r\n      },\r\n      {\r\n        value: \"vote_average.asc\",\r\n        label: \"Рейтинг по возростанию\"\r\n      }\r\n    ]\r\n  };\r\n\r\n  render() {\r\n    const { sort_by, onChangeFilters, options } = this.props;\r\n    return (\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"sort_by\">Сортировать по:</label>\r\n        <select\r\n          id=\"sort_by\"\r\n          className=\"form-control\"\r\n          name=\"sort_by\"\r\n          value={sort_by}\r\n          onChange={onChangeFilters}\r\n        >\r\n          {options.map(option => (\r\n            <option key={option.value} value={option.value}>\r\n              {option.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class UISelect extends React.Component {\r\n  static propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    onChange: PropTypes.func.isRequired\r\n  };\r\n\r\n  render() {\r\n    const { id, name, value, onChange, labelText, children } = this.props;\r\n    console.log(\"UISelect render\");\r\n    return (\r\n      <div className=\"form-group\">\r\n        <label htmlFor={id}>{labelText}</label>;\r\n        <select\r\n          id={id}\r\n          className=\"form-control\"\r\n          name={name}\r\n          value={value}\r\n          onChange={onChange}\r\n        >\r\n          {children}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport UISelect from \"../UIComponents/UISelect\";\r\n\r\nexport default class PrimaryReLeaseYear extends React.Component {\r\n  static defaultProps = {\r\n    options: [\r\n      {\r\n        label: \"Все фильмы\",\r\n        value: \"0\"\r\n      },\r\n      {\r\n        value: \"2018\",\r\n        label: \"2018\"\r\n      },\r\n      {\r\n        value: \"2005\",\r\n        label: \"2005\"\r\n      },\r\n      {\r\n        value: \"1991\",\r\n        label: \"1991\"\r\n      }\r\n    ]\r\n  };\r\n  render() {\r\n    const { primary_release_year, onChangeFilters, options } = this.props;\r\n    console.log(\"PrimaryReleaseYear render\");\r\n    return (\r\n      <UISelect\r\n        id=\"primary_release_year\"\r\n        name=\"primary_release_year\"\r\n        value={primary_release_year}\r\n        onChange={onChangeFilters}\r\n        htmlFor={options[0].value}\r\n        labelText=\"Год релиза:\"\r\n      >\r\n        {options.map(option => (\r\n          <option key={option.value} value={option.value}>\r\n            {option.label}\r\n          </option>\r\n        ))}\r\n      </UISelect>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nexport default class Pagination extends React.Component {\r\n  nextPage = () => {\r\n    this.props.onChangePagination({\r\n      page: this.props.page + 1,\r\n      total_pages: this.props.total_pages\r\n    });\r\n  };\r\n\r\n  prevPage = page => event => {\r\n    this.props.onChangePagination({\r\n      page: this.props.page - 1,\r\n      total_pages: this.props.total_pages\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { page, total_pages } = this.props;\r\n    return (\r\n      <nav className=\"d-flex align-items-center\">\r\n        <ul className=\"pagination mb-0 mr-3\">\r\n          <li\r\n            className={classNames(\"page-item\", {\r\n              disabled: page === 1\r\n            })}\r\n          >\r\n            <span className=\"page-link\" onClick={this.prevPage(page)}>\r\n              Назад\r\n            </span>\r\n          </li>\r\n          <li className=\"page-item\">\r\n            <span className=\"page-link\" onClick={this.nextPage}>\r\n              Вперед\r\n            </span>\r\n          </li>\r\n        </ul>\r\n        <span>\r\n          {page} of {total_pages}\r\n        </span>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n","import queryString from \"query-string\";\r\nexport const API_URL = \"https://api.themoviedb.org/3\";\r\nexport const API_KEY_3 = \"505075685f5961155a9bfb5422604ac7\";\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1MDUwNzU2ODVmNTk2MTE1NWE5YmZiNTQyMjYwNGFjNyIsInN1YiI6IjViZjNlY2FmMGUwYTI2MjY2ZjA5NmQyNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.SYjBYTjlEfCB9KPveqgypKp-MwXIJUBtP3f1NWWwpLY\";\r\nexport const fetchApi = (url, options = {}) => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(url, options)\r\n      .then(response => {\r\n        if (response.status < 400) {\r\n          return response.json();\r\n        } else {\r\n          throw response;\r\n        }\r\n      })\r\n      .then(data => {\r\n        resolve(data);\r\n      })\r\n      .catch(response => {\r\n        response.json().then(error => {\r\n          reject(error);\r\n        });\r\n      });\r\n  });\r\n};\r\n\r\nexport default class CallApi {\r\n  static get(url, option = {}) {\r\n    const { params } = option;\r\n    const queryStringParams = {\r\n      api_key: API_KEY_3,\r\n      ...params\r\n    };\r\n\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\"\r\n        }\r\n      }\r\n    );\r\n  }\r\n  static post(url, option = {}) {\r\n    const { params = {}, body = {} } = option;\r\n    const queryStringParams = {\r\n      api_key: API_KEY_3,\r\n      ...params\r\n    };\r\n\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n          ...body\r\n        })\r\n      }\r\n    );\r\n  }\r\n  static delete(url, option = {}) {\r\n    const { params = {}, body = {} } = option;\r\n    const queryStringParams = {\r\n      ...params\r\n    };\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"content-type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n          ...body\r\n        })\r\n      }\r\n    );\r\n  }\r\n}\r\n\r\n// fetchApi(`${API_URL}/authentication/session?api_key=${API_KEY_3}`, {\r\n//   method: \"DELETE\",\r\n//   headers: {\r\n//     \"content-type\": \"application/json\"\r\n//   },\r\n//   body: JSON.stringify({\r\n//     session_id: this.state.session_id\r\n//   })\r\n// }).then(() => {\r\n//   this.setState({\r\n//     session_id: null,\r\n//     user: null\r\n//   });\r\n//   cookies.remove(\"session_id\");\r\n// });\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Genres = ({ genres, with_genres, resetGenres, onChange }) => (\r\n  <React.Fragment>\r\n    <div>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-outline-dark mb-2\"\r\n        onClick={resetGenres}\r\n      >\r\n        Показать все жанры\r\n      </button>\r\n    </div>\r\n    {genres.map(genre => (\r\n      <div key={genre.id} className=\"form-group form-check\">\r\n        <input\r\n          type=\"checkbox\"\r\n          value={genre.id}\r\n          id={`genre${genre.id}`}\r\n          onChange={onChange}\r\n          checked={with_genres.includes(String(genre.id))}\r\n        />\r\n        <label className=\"form-check-label\" htmlFor={`genre${genre.id}`}>\r\n          {genre.name}\r\n        </label>\r\n      </div>\r\n    ))}\r\n  </React.Fragment>\r\n);\r\nGenres.defaultProps = {\r\n  genres: []\r\n};\r\n\r\nGenres.propTypes = {\r\n  genres: PropTypes.array.isRequired\r\n};\r\n\r\nexport default Genres;\r\n","import React from \"react\";\r\nimport CallApi from \"../../api/api\";\r\nimport Genres from \"./Genres\";\r\n\r\nexport default class GenresContainer extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      genres: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    CallApi.get(\"/genre/movie/list\", { params: { language: \"ru - RU\" } }).then(\r\n      data => {\r\n        this.setState({\r\n          genres: data.genres\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  onChange = event => {\r\n    this.props.onChangeFilters({\r\n      target: {\r\n        name: \"with_genres\",\r\n        value: event.target.checked\r\n          ? [...this.props.with_genres, event.target.value]\r\n          : this.props.with_genres.filter(genre => genre !== event.target.value)\r\n      }\r\n    });\r\n  };\r\n\r\n  resetGenres = () => {\r\n    this.props.onChangeFilters({\r\n      target: {\r\n        name: \"with_genres\",\r\n        value: []\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { genres } = this.state;\r\n    const { with_genres } = this.props;\r\n    return (\r\n      <Genres\r\n        genres={genres}\r\n        with_genres={with_genres}\r\n        resetGenres={this.resetGenres}\r\n        onChange={this.onChange}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport SortBy from \"./SortBy\";\r\nimport PrimaryReleaseYear from \"./PrimaryReleaseYear\";\r\nimport Pagination from \"./Pagination\";\r\nimport GenresContainer from \"./GenresContainer\";\r\n\r\nexport default class Filters extends React.Component {\r\n  render() {\r\n    const {\r\n      filters: { sort_by, primary_release_year, with_genres },\r\n      page,\r\n      total_pages,\r\n      onClearFilters,\r\n      onChangeFilters,\r\n      onChangePagination\r\n    } = this.props;\r\n    console.log(\"render filters\");\r\n    return (\r\n      <form className=\"mb-3\">\r\n        <span onClick={onClearFilters} className=\"btn btn-light border\">\r\n          Сбросить фильтры\r\n        </span>\r\n        <SortBy sort_by={sort_by} onChangeFilters={onChangeFilters} />\r\n        <PrimaryReleaseYear\r\n          primary_release_year={primary_release_year}\r\n          onChangeFilters={onChangeFilters}\r\n        />\r\n        <GenresContainer\r\n          with_genres={with_genres}\r\n          onChangeFilters={onChangeFilters}\r\n        />\r\n        <Pagination\r\n          page={page}\r\n          total_pages={total_pages}\r\n          onChangePagination={onChangePagination}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { AppContext } from \"../App\";\r\n\r\nexport default Component =>\r\n  class AppContextHOC extends React.Component {\r\n    render() {\r\n      return (\r\n        <AppContext.Consumer>\r\n          {context => <Component {...this.props} {...context} />}\r\n        </AppContext.Consumer>\r\n      );\r\n    }\r\n  };\r\n","import React from \"react\";\r\nimport CallApi from \"../../api/api\";\r\n\r\nexport default (Component, type) =>\r\n  class IconsHOC extends React.Component {\r\n    constructor() {\r\n      super();\r\n      this.state = {\r\n        isAdd: false\r\n      };\r\n    }\r\n\r\n    findAddedIcon = () => {\r\n      const isAddedIcon = this.props[type].some(object => {\r\n        return object.id === this.props.item.id;\r\n      });\r\n      if (this.state.isAdd !== isAddedIcon) {\r\n        this.setState({\r\n          isAdd: isAddedIcon\r\n        });\r\n      }\r\n    };\r\n\r\n    onClickIcon = () => {\r\n      if (this.props.session_id) {\r\n        this.setState(\r\n          {\r\n            isAdd: !this.state.isAdd\r\n          },\r\n          () => {\r\n            CallApi.post(`/account/${this.props.user.id}/${this.props.name}`, {\r\n              params: { session_id: this.props.session_id },\r\n              body: {\r\n                media_type: \"movie\",\r\n                media_id: this.props.item.id,\r\n                [this.props.name]: this.state.isAdd\r\n              }\r\n            }).then(() => {\r\n              this.props.getFavoriteMovies();\r\n              this.props.getWatchlistMovies();\r\n            });\r\n          }\r\n        );\r\n      } else {\r\n        this.props.toggleModal();\r\n      }\r\n    };\r\n\r\n    componentDidUpdate = prevProps => {\r\n      if (prevProps[type] !== this.props[type]) {\r\n        this.findAddedIcon();\r\n      }\r\n    };\r\n    render() {\r\n      return (\r\n        <Component\r\n          {...this.props}\r\n          onClickIcon={this.onClickIcon}\r\n          isAdd={this.state.isAdd}\r\n        />\r\n      );\r\n    }\r\n  };\r\n","import React from \"react\";\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faHeart as heartRegular } from \"@fortawesome/free-regular-svg-icons\";\r\nimport AppContextHOC from \"../HOC/AppContextHOC\";\r\nimport IconsHOC from \"../HOC/IconsHOC\";\r\nlibrary.add(faHeart, heartRegular);\r\n\r\nclass Favorite extends React.Component {\r\n  render() {\r\n    const { onClickIcon, isAdd } = this.props;\r\n\r\n    return (\r\n      <FontAwesomeIcon\r\n        icon={isAdd ? faHeart : heartRegular}\r\n        onClick={onClickIcon}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default AppContextHOC(IconsHOC(Favorite, \"favoriteMovies\"));\r\n","import React from \"react\";\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBookmark } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faBookmark as bookmarkRegular } from \"@fortawesome/free-regular-svg-icons\";\r\nimport AppContextHOC from \"../HOC/AppContextHOC\";\r\nimport IconseHOC from \"../HOC/IconsHOC\";\r\nlibrary.add(faBookmark, bookmarkRegular);\r\n\r\nclass Watchlist extends React.Component {\r\n  render() {\r\n    const { onClickIcon, isAdd } = this.props;\r\n    return (\r\n      <FontAwesomeIcon\r\n        icon={isAdd ? faBookmark : bookmarkRegular}\r\n        onClick={onClickIcon}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default AppContextHOC(IconseHOC(Watchlist, \"watchlistMovies\"));\r\n","import React from \"react\";\r\nimport Favorite from \"./Favorite\";\r\nimport Watchlist from \"./Watchlist\";\r\n\r\nexport default class MovieItem extends React.Component {\r\n  render() {\r\n    const { item, toggleModal } = this.props;\r\n    return (\r\n      <div className=\"card\" style={{ width: \"100%\" }}>\r\n        <div className=\"card-img--wrap\">\r\n          <img\r\n            className=\"card-img-top card-img--height\"\r\n            src={`https://image.tmdb.org/t/p/w500${item.backdrop_path ||\r\n              item.poster_path}`}\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{item.title}</h6>\r\n          <div className=\"card-text\">Рейтинг: {item.vote_average}</div>\r\n          <div className=\"d-flex justify-content-between mt-3\">\r\n            <Watchlist\r\n              toggleModal={toggleModal}\r\n              item={item}\r\n              // session_id={session_id}\r\n              // user={user}\r\n              name=\"watchlist\"\r\n            />\r\n            <Favorite\r\n              toggleModal={toggleModal}\r\n              item={item}\r\n              // session_id={session_id}\r\n              //user={user}\r\n              name=\"favorite\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactLoading from \"react-loading\";\r\n\r\nconst Loader = ({ type, color }) => (\r\n  <div className=\"loader d-flex justify-content-center align-items-center\">\r\n    <ReactLoading type={type} color={color} height={17} width={35} />\r\n  </div>\r\n);\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport MovieItem from \"./MovieItem\";\r\nimport PropTypes from \"prop-types\";\r\nimport AppContextHOC from \"../HOC/AppContextHOC\";\r\nimport MoviesHOC from \"./MoviesHOC\";\r\n\r\nconst MoviesList = ({ movies, toggleModal }) => (\r\n  <div className=\"row\">\r\n    {movies.map(movie => {\r\n      return (\r\n        <div key={movie.id} className=\"col-6 mb-4\">\r\n          <MovieItem item={movie} toggleModal={toggleModal} />\r\n        </div>\r\n      );\r\n    })}\r\n  </div>\r\n);\r\nMoviesList.defaultProps = {\r\n  movies: []\r\n};\r\nMoviesList.propTypes = {\r\n  movies: PropTypes.array.isRequired\r\n};\r\n\r\nexport default AppContextHOC(MoviesHOC(MoviesList));\r\n","import React from \"react\";\r\nimport CallApi from \"../../api/api\";\r\nimport _ from \"lodash\";\r\nimport Loader from \"../Loader\";\r\n\r\nexport default Component =>\r\n  class MoviesHOC extends React.Component {\r\n    constructor() {\r\n      super();\r\n      this.state = {\r\n        movies: [],\r\n        isLoading: false\r\n      };\r\n    }\r\n    getMovies = (filters, page) => {\r\n      const { sort_by, primary_release_year, with_genres } = filters;\r\n      const queryStringParams = {\r\n        language: \"ru-RU\",\r\n        sort_by: sort_by,\r\n        page: page,\r\n        primary_release_year: primary_release_year\r\n      };\r\n      this.setState({\r\n        isLoading: true\r\n      });\r\n      if (with_genres.length > 0) {\r\n        queryStringParams.with_genres = with_genres.join(\",\");\r\n      }\r\n      CallApi.get(\"/discover/movie\", { params: queryStringParams })\r\n        .then(data => {\r\n          this.props.onChangePagination({\r\n            page: data.page,\r\n            total_pages: data.total_pages\r\n          });\r\n          this.setState({\r\n            movies: data.results\r\n          });\r\n        })\r\n        .then(() => {\r\n          this.props.getFavoriteMovies();\r\n          this.props.getWatchlistMovies();\r\n          this.setState({\r\n            isLoading: false\r\n          });\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n      this.getMovies(this.props.filters, this.props.page);\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n      if (\r\n        !_.isEqual(this.props.filters, prevProps.filters)\r\n        // this.props.filters !== prevProps.filters\r\n        // this.props.filters.sort_by !== prevProps.filters.sort_by ||\r\n        // this.props.filters.primary_release_year !==\r\n        //   prevProps.filters.primary_release_year\r\n      ) {\r\n        this.props.onChangePagination({ page: 1 });\r\n        this.getMovies(this.props.filters, 1);\r\n      }\r\n\r\n      if (this.props.page !== prevProps.page) {\r\n        this.getMovies(this.props.filters, this.props.page);\r\n      }\r\n    }\r\n\r\n    render() {\r\n      const { movies, isLoading } = this.state;\r\n      if (isLoading) {\r\n        return <Loader type=\"balls\" color=\"#007bff\" />;\r\n      }\r\n      return <Component {...this.props} movies={movies} />;\r\n    }\r\n  };\r\n","import React from \"react\";\r\nimport AppContextHOC from \"../HOC/AppContextHOC\";\r\nimport {\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem\r\n} from \"reactstrap\";\r\n\r\nclass UserMenu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = {\r\n      isOpen: false\r\n    };\r\n  }\r\n  toggle() {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { user, logOut } = this.props;\r\n    return (\r\n      <UncontrolledDropdown nav inNavbar className=\"user-menu\">\r\n        <DropdownToggle nav caret>\r\n          <img\r\n            width=\"40px\"\r\n            className=\"rounded-circle\"\r\n            alt=\"avatar\"\r\n            src={`https://secure.gravatar.com/avatar/${\r\n              user.avatar.gravatar.hash\r\n            }.jpg?s=64\"`}\r\n          />\r\n        </DropdownToggle>\r\n        <DropdownMenu right>\r\n          <DropdownItem onClick={logOut}>Выход</DropdownItem>\r\n        </DropdownMenu>\r\n      </UncontrolledDropdown>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppContextHOC(UserMenu);\r\n","import React from \"react\";\r\nimport UserMenu from \"./UserMenu\";\r\n\r\nexport default class Header extends React.Component {\r\n  render() {\r\n    const { user, toggleModal, session_id, logOut } = this.props;\r\n\r\n    return (\r\n      <nav className=\"navbar navbar-dark bg-primary\">\r\n        <div className=\"container\">\r\n          <ul className=\"navbar-nav\">\r\n            <li className=\"nav-item active\">\r\n              <span className=\"nav-link\">Home</span>\r\n            </li>\r\n          </ul>\r\n          {user ? (\r\n            <UserMenu session_id={session_id} logOut={logOut} />\r\n          ) : (\r\n            <button\r\n              className=\"btn btn-success\"\r\n              type=\"button\"\r\n              onClick={toggleModal}\r\n            >\r\n              Login\r\n            </button>\r\n          )}\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst Field = props => {\r\n  const {\r\n    id,\r\n    labelText,\r\n    type,\r\n    placeholderText,\r\n    name,\r\n    value,\r\n    onChange,\r\n    errors,\r\n    onBlur\r\n  } = props;\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={id}>{labelText}</label>\r\n      <input\r\n        id={id}\r\n        type={type}\r\n        className={classNames(\"form-control\", { invalid: errors })}\r\n        placeholder={placeholderText}\r\n        value={value}\r\n        onChange={onChange}\r\n        name={name}\r\n        onBlur={onBlur}\r\n      />\r\n      {errors && <div className=\"invalid-feedback\">{errors}</div>}\r\n    </div>\r\n  );\r\n};\r\nexport default Field;\r\n","import React from \"react\";\r\nimport Field from \"./Field\";\r\nimport CallApi from \"../../api/api\";\r\nimport AppContextHOC from \"../HOC/AppContextHOC\";\r\n\r\nclass LoginForm extends React.Component {\r\n  state = {\r\n    username: \"KateTuralnikova\",\r\n    password: \"ekaterina00\",\r\n    repeatPassword: \"ekaterina00\",\r\n    errors: {},\r\n    submitting: false\r\n  };\r\n\r\n  onChange = e => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState(prevState => ({\r\n      [name]: value,\r\n      errors: {\r\n        ...prevState.errors,\r\n        base: null,\r\n        [name]: null\r\n      }\r\n    }));\r\n  };\r\n\r\n  handleBlur = input => {\r\n    console.log(\"input\", input.target.id);\r\n    const inputName = input.target.id;\r\n\r\n    if (this.state[inputName] === \"\") {\r\n      this.setState({ errors: { [inputName]: \"Not empty\" } });\r\n      return false;\r\n    } else {\r\n      if (inputName === \"username\" && this.state[inputName].length <= 4) {\r\n        this.setState({\r\n          errors: { username: \"Must be more then 4 charecters\" }\r\n        });\r\n        return false;\r\n      } else if (\r\n        inputName === \"password\" &&\r\n        this.state[inputName].length <= 4\r\n      ) {\r\n        this.setState({\r\n          errors: { password: \"Must be more then 4 charecters\" }\r\n        });\r\n        return false;\r\n      } else if (\r\n        inputName === \"repeatPassword\" &&\r\n        this.state.repeatPassword !== this.state.password\r\n      ) {\r\n        this.setState({\r\n          errors: { repeatPassword: \"Password must be the same\" }\r\n        });\r\n        return false;\r\n      }\r\n    }\r\n  };\r\n\r\n  validateFields = () => {\r\n    const errors = {};\r\n    if (this.state.username <= 4) {\r\n      errors.username = \"Must be more then 4 charecters\";\r\n    }\r\n    if (this.state.password <= 5) {\r\n      errors.password = \"Must be more then 5 charecters\";\r\n    }\r\n    if (this.state.repeatPassword !== this.state.password) {\r\n      errors.repeatPassword = \"Password must be the same\";\r\n    }\r\n\r\n    return errors;\r\n  };\r\n  onSubmit = () => {\r\n    const errors = this.validateFields();\r\n    if (Object.keys(errors).length > 0) {\r\n      this.setState(prevState => ({\r\n        errors: {\r\n          ...prevState.errors,\r\n          ...errors\r\n        }\r\n      }));\r\n    }\r\n\r\n    this.setState({\r\n      submitting: true\r\n    });\r\n    CallApi.get(\"/authentication/token/new\")\r\n      .then(data => {\r\n        return CallApi.post(\"/authentication/token/validate_with_login\", {\r\n          body: {\r\n            username: this.state.username,\r\n            password: this.state.password,\r\n            request_token: data.request_token\r\n          }\r\n        });\r\n      })\r\n      .then(data => {\r\n        return CallApi.post(\"/authentication/session/new\", {\r\n          body: { request_token: data.request_token }\r\n        });\r\n      })\r\n      .then(data => {\r\n        this.props.updateSessionId(data.session_id);\r\n        return CallApi.get(\"/account\", {\r\n          params: { session_id: data.session_id }\r\n        });\r\n      })\r\n      .then(user => {\r\n        this.setState(\r\n          {\r\n            submitting: false\r\n          },\r\n          () => {\r\n            this.props.updateUser(user);\r\n            this.props.toggleModal();\r\n          }\r\n        );\r\n\r\n        console.log(\"user\", user);\r\n      })\r\n      .then(data => {\r\n        this.props.getFavoriteMovies();\r\n        this.props.getWatchlistMovies();\r\n      })\r\n      .catch(error => {\r\n        console.log(\"error\", error);\r\n        this.setState({\r\n          submitting: false,\r\n          errors: {\r\n            base: error.status_message\r\n          }\r\n        });\r\n      });\r\n  };\r\n  onLogin = e => {\r\n    e.preventDefault();\r\n    const errors = this.validateFields();\r\n    if (Object.keys(errors).length > 0) {\r\n      this.setState(prevState => ({\r\n        errors: {\r\n          ...prevState.errors,\r\n          ...errors\r\n        }\r\n      }));\r\n    } else {\r\n      console.log(\"Submit\");\r\n      this.onSubmit();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      username,\r\n      password,\r\n      repeatPassword,\r\n      errors,\r\n      submitting\r\n    } = this.state;\r\n    return (\r\n      <div className=\"form-login-container\">\r\n        <form className=\"form-login\">\r\n          <h1 className=\"h3 mb-3 font-weight-normal text-center\">\r\n            Авторизация\r\n          </h1>\r\n          <Field\r\n            id=\"username\"\r\n            labelText=\"Username\"\r\n            type=\"text\"\r\n            placeholderText=\"Enter username\"\r\n            name=\"username\"\r\n            value={username}\r\n            onChange={this.onChange}\r\n            errors={errors.username}\r\n            onBlur={this.handleBlur}\r\n          />\r\n          <Field\r\n            id=\"password\"\r\n            labelText=\"Password\"\r\n            type=\"password\"\r\n            placeholderText=\"Enter password\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={this.onChange}\r\n            errors={errors.password}\r\n            onBlur={this.handleBlur}\r\n          />\r\n          <Field\r\n            id=\"repeatPassword\"\r\n            labelText=\"Repeat password\"\r\n            type=\"password\"\r\n            placeholderText=\"Enter repeatPassword\"\r\n            name=\"repeatPassword\"\r\n            value={repeatPassword}\r\n            onChange={this.onChange}\r\n            errors={errors.repeatPassword}\r\n            onBlur={this.handleBlur}\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-lg btn-primary btn-block\"\r\n            onClick={this.onLogin}\r\n            disabled={submitting}\r\n          >\r\n            Вход\r\n          </button>\r\n          {errors.base && (\r\n            <div className=\"invalid-feedback text-center\">{errors.base}</div>\r\n          )}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default AppContextHOC(LoginForm);\r\n","import React from \"react\";\r\nimport { Modal, ModalBody } from \"reactstrap\";\r\nimport LoginForm from \"./LoginForm\";\r\n\r\nexport default class Login extends React.Component {\r\n  render() {\r\n    const { toggleModal, showLoginModal } = this.props;\r\n    return (\r\n      <div>\r\n        <Modal isOpen={showLoginModal} toggle={toggleModal}>\r\n          <ModalBody>\r\n            <LoginForm toggleModal={toggleModal} />\r\n          </ModalBody>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Filters from \"./Filters/Filters\";\r\nimport MoviesList from \"./Movies/MoviesList\";\r\nimport Header from \"./Header/Header\";\r\nimport Login from \"./Login/Login\";\r\nimport CallApi from \"../api/api\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nconst cookies = new Cookies();\r\nexport const AppContext = React.createContext();\r\n\r\nexport default class App extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      filters: {\r\n        sort_by: \"popularity.desc\",\r\n        primary_release_year: \"Все фильмы\",\r\n        with_genres: []\r\n      },\r\n      page: 1,\r\n      total_pages: \"\",\r\n      user: null,\r\n      session_id: null,\r\n      showLoginModal: false,\r\n      watchlistMovies: [],\r\n      favoriteMovies: []\r\n    };\r\n  }\r\n  toggleModal = () => {\r\n    this.setState(prevState => ({\r\n      showLoginModal: !prevState.showLoginModal\r\n    }));\r\n  };\r\n  updateUser = user => {\r\n    this.setState({\r\n      user\r\n    });\r\n  };\r\n  onChangeFilters = event => {\r\n    const value = event.target.value;\r\n    const name = event.target.name;\r\n\r\n    const newFilters = {\r\n      ...this.state.filters,\r\n      [name]: value\r\n    };\r\n    this.setState({\r\n      filters: newFilters\r\n    });\r\n  };\r\n  updateSessionId = session_id => {\r\n    cookies.set(\"session_id\", session_id, {\r\n      path: \"/\",\r\n      maxAge: 2592000\r\n    });\r\n\r\n    this.setState({\r\n      session_id\r\n    });\r\n  };\r\n  logOut = () => {\r\n    CallApi.delete(\"/authentication/session\", {\r\n      params: { session_id: this.state.session_id }\r\n    }).then(() => {\r\n      this.setState({\r\n        session_id: null,\r\n        user: null,\r\n        watchlistMovies: [],\r\n        favoriteMovies: []\r\n      });\r\n      cookies.remove(\"session_id\");\r\n      console.log(\"logout\");\r\n    });\r\n  };\r\n  onChangePagination = ({ page, total_pages = this.state.total_pages }) => {\r\n    this.setState({\r\n      page,\r\n      total_pages\r\n    });\r\n  };\r\n  onClearFilters = () => {\r\n    this.setState({\r\n      filters: {\r\n        sort_by: \"popularity.desc\",\r\n        primary_release_year: \"Все фильмы\",\r\n        with_genres: []\r\n      },\r\n      page: 1,\r\n      total_pages: \"\"\r\n    });\r\n  };\r\n  componentDidMount = () => {\r\n    const session_id = cookies.get(\"session_id\");\r\n    if (session_id) {\r\n      CallApi.get(\"/account\", { params: { session_id: session_id } })\r\n        .then(user => {\r\n          this.updateUser(user);\r\n          this.updateSessionId(session_id);\r\n        })\r\n        .then(() => {\r\n          this.getFavoriteMovies();\r\n          this.getWatchlistMovies();\r\n        });\r\n    }\r\n  };\r\n\r\n  getFavoriteMovies = () => {\r\n    if (this.state.user) {\r\n      console.log(\"getFavoriteMovies\");\r\n      CallApi.get(`/account/${this.state.user.account_id}/favorite/movies`, {\r\n        params: { session_id: this.state.session_id }\r\n      }).then(data => {\r\n        this.setState({\r\n          favoriteMovies: [...data.results]\r\n        });\r\n      });\r\n    } else {\r\n      console.log(\"we don't have user\");\r\n    }\r\n  };\r\n  getWatchlistMovies = () => {\r\n    if (this.state.user) {\r\n      CallApi.get(`/account/${this.state.user.account_id}/watchlist/movies`, {\r\n        params: { session_id: this.state.session_id }\r\n      }).then(data => {\r\n        this.setState({\r\n          watchlistMovies: [...data.results]\r\n        });\r\n      });\r\n    } else {\r\n      console.log(\"we don't have user\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      filters,\r\n      page,\r\n      total_pages,\r\n      user,\r\n      session_id,\r\n      showLoginModal,\r\n      watchlistMovies,\r\n      favoriteMovies\r\n    } = this.state;\r\n\r\n    return (\r\n      <AppContext.Provider\r\n        value={{\r\n          user: user,\r\n          updateSessionId: this.updateSessionId,\r\n          updateUser: this.updateUser,\r\n          session_id: session_id,\r\n          watchlistMovies: watchlistMovies,\r\n          favoriteMovies: favoriteMovies,\r\n          getFavoriteMovies: this.getFavoriteMovies,\r\n          getWatchlistMovies: this.getWatchlistMovies\r\n        }}\r\n      >\r\n        <Header\r\n          user={user}\r\n          showLoginModal={showLoginModal}\r\n          toggleModal={this.toggleModal}\r\n          session_id={this.state.session_id}\r\n          logOut={this.logOut}\r\n        />\r\n        <div className=\"container\">\r\n          <div className=\"row mt-4\">\r\n            <div className=\"col-4\">\r\n              <div className=\"card\" style={{ width: \"100%\" }}>\r\n                <div className=\"card-body filters\">\r\n                  <h3>Фильтры:</h3>\r\n                  <Filters\r\n                    page={page}\r\n                    total_pages={total_pages}\r\n                    filters={filters}\r\n                    onClearFilters={this.onClearFilters}\r\n                    onChangeFilters={this.onChangeFilters}\r\n                    onChangePagination={this.onChangePagination}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-8\">\r\n              <MoviesList\r\n                filters={filters}\r\n                page={page}\r\n                onChangePagination={this.onChangePagination}\r\n                toggleModal={this.toggleModal}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Login\r\n          toggleModal={this.toggleModal}\r\n          showLoginModal={this.state.showLoginModal}\r\n        />\r\n      </AppContext.Provider>\r\n    );\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.css\";\n\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}